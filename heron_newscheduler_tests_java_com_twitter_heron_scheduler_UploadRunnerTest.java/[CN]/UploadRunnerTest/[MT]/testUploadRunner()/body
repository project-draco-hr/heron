{
  String topologyPkg="topology.tar.gz";
  TopologyAPI.Topology topology=TopologyUtilityTest.createTopology("name",new Config(),new HashMap<String,Integer>(),new HashMap<String,Integer>());
  IUploader uploader=mock(IUploader.class);
  when(uploader.uploadPackage(anyString())).thenReturn(true);
  IConfigLoader config=mock(IConfigLoader.class);
  UploadRunner runner=new UploadRunner(uploader,mock(LaunchContext.class),topologyPkg);
  assertTrue(runner.call());
  inOrder(uploader);
  verify(uploader).initialize(any(LaunchContext.class));
  verify(uploader).uploadPackage(eq(topologyPkg));
}
