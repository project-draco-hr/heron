{
  String topologyPkg="some-file.tar";
  IConfigLoader config=createConfig();
  String configLoader=config.getClass().getName();
  String submitterConfigFile="";
  String configOverride="";
  PowerMockito.spy(SubmitterMain.class);
  PowerMockito.spy(Factory.class);
  PowerMockito.doReturn(config).when(Factory.class,"makeConfigLoader",eq(configLoader));
  PowerMockito.doReturn(new DummySchedulerStateManager()).when(Factory.class,"makeStateManager",anyString());
  assertTrue(SubmitterMain.submitTopology(topologyPkg,configLoader,submitterConfigFile,configOverride,createTopology(new Config())));
}
