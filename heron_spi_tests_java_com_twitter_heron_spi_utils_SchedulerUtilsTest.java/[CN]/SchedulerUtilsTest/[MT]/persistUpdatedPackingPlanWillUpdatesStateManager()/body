{
  SchedulerStateManagerAdaptor adaptor=Mockito.mock(SchedulerStateManagerAdaptor.class);
  Mockito.when(adaptor.setPackingPlan(Mockito.any(PackingPlans.PackingPlan.class),Mockito.eq("topology"))).thenReturn(true);
  PackingPlan.ContainerPlan container=PackingTestUtils.testContainerPlan(1,0,1,2);
  Set<PackingPlan.ContainerPlan> containers=new HashSet<>();
  containers.add(container);
  PackingPlan packing=new PackingPlan("id",containers);
  SchedulerUtils.persistUpdatedPackingPlan("topology",packing,adaptor);
  Mockito.verify(adaptor).setPackingPlan(Mockito.any(PackingPlans.PackingPlan.class),Mockito.eq("topology"));
}
