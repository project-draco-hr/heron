def create_tar(tar_filename, files):
    with contextlib.closing(tarfile.open(tar_filename, 'w:gz')) as tar:
        for filename in files:
            if (not os.path.isfile(filename)):
                raise Exception(('%s is not an existing file' % filename))
            tar.add(filename, arcname=os.path.basename(filename))
