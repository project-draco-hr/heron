def main():
    (parser, ya_parser) = create_parsers()
    (args, remaining) = parser.parse_known_args()
    if remaining:
        yaargs = ya_parser.parse_args(args=remaining, namespace=args)
        parser.print_help()
        parser.exit()
    namespace = vars(args)
    if namespace['verbose']:
        configure_logging(logging.DEBUG)
    else:
        configure_logging(logging.INFO)
    LOG.info('Running on port: %d', namespace['port'])
    LOG.info('Using config file: %s', namespace['config_file'])
    define_options(namespace['port'], namespace['config_file'])
    http_server = tornado.httpserver.HTTPServer(Application())
    http_server.listen(namespace['port'])
    tornado.ioloop.IOLoop.instance().start()
