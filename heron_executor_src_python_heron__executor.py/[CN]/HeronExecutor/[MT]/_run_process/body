def _run_process(self, name, cmd, env_to_exec=None):
    if (self.python_instance_binary in cmd[0]):
        if (env_to_exec is None):
            env = {}
        else:
            env = env_to_exec.copy()
        env['PEX_PROFILE'] = 'true'
        do_print(('Running -env_set %s process as %s' % (name, ' '.join(cmd))))
        return subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE, env=env)
    else:
        do_print(('Running %s process as %s' % (name, ' '.join(cmd))))
        return subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE, env=env_to_exec)
