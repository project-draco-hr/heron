{
  ExecutionEnvironment.ExecutionState.Builder builder=ExecutionEnvironment.ExecutionState.newBuilder().mergeFrom(executionState);
  builder.setDc(dc).setRole(role).setEnviron(environ);
  ExecutionEnvironment.HeronReleaseState.Builder releaseBuilder=ExecutionEnvironment.HeronReleaseState.newBuilder();
  releaseBuilder.setReleaseUsername(context.getPropertyWithException(Constants.HERON_RELEASE_USER_NAME));
  releaseBuilder.setReleaseTag(context.getPropertyWithException(Constants.HERON_RELEASE_TAG));
  releaseBuilder.setReleaseVersion(context.getPropertyWithException(Constants.HERON_RELEASE_VERSION));
  releaseBuilder.setUploaderVersion(context.getProperty(Constants.HERON_UPLOADER_VERSION,"live"));
  builder.setReleaseState(releaseBuilder);
  if (builder.isInitialized()) {
    return builder.build();
  }
 else {
    throw new RuntimeException("Failed to create execution state");
  }
}
