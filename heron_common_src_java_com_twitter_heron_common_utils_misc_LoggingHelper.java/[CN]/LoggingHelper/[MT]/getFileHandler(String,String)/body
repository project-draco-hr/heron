{
  SystemConfig systemConfig=(SystemConfig)SingletonRegistry.INSTANCE.getSingleton(SystemConfig.HERON_SYSTEM_CONFIG);
  String pattern=loggingDir + "/" + instanceId+ ".log.%g";
  boolean append=true;
  int limit=systemConfig.getHeronLoggingMaximumSizeMb() * Constants.MB_TO_BYTES;
  int count=systemConfig.getHeronLoggingMaximumFiles();
  FileHandler fileHandler=new FileHandler(pattern,limit,count,append);
  fileHandler.setFormatter(new SimpleFormatter());
  fileHandler.setEncoding("UTF-8");
  return fileHandler;
}
