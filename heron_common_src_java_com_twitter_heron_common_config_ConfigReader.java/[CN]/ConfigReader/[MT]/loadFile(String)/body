{
  Map props=new HashMap();
  if (fileName == null) {
    LOG.warning("Config file name cannot be null\n");
    return props;
  }
 else   if (fileName.isEmpty()) {
    LOG.warning("Config file name is empty\n");
    return props;
  }
 else {
    Path path=Paths.get(fileName);
    if (!Files.exists(path)) {
      LOG.warning("Config file " + fileName + " does not exist.\n");
      return props;
    }
    if (!Files.isRegularFile(path)) {
      LOG.warning("Config file " + fileName + " might be a directory.\n");
      return props;
    }
    LOG.fine("Reading config file " + fileName);
    Map props_yaml=null;
    try {
      FileInputStream fin=new FileInputStream(new File(fileName));
      Yaml yaml=new Yaml();
      props_yaml=(Map)yaml.load(fin);
      LOG.fine("Successfully read config file " + fileName);
    }
 catch (    IOException e) {
      LOG.log(Level.SEVERE,"Failed to load config file: " + fileName,e);
    }
    return props_yaml != null ? props_yaml : props;
  }
}
