{
  baseCxt=cxt;
  Context.Builder stateMgrCxtBuilder=Context.newBuilder();
  String rootAddress=baseCxt.getStringValue(ROOT_ADDRESS);
  if (rootAddress == null) {
    Object workingDir=baseCxt.get(WORKING_DIRECTORY);
    if (workingDir == null) {
      throw new IllegalArgumentException("Misses required config: " + WORKING_DIRECTORY);
    }
    rootAddress=String.format("%s/%s",workingDir,"state");
    stateMgrCxtBuilder.put(ROOT_ADDRESS,rootAddress);
  }
  stateMgrCxt=stateMgrCxtBuilder.build();
  super.initialize(Context.newBuilder().putAll(baseCxt).putAll(stateMgrCxt).build());
  boolean isInitLocalFileTree=baseCxt.get(IS_INITIALIZE_FILE_TREE) == null ? true : (Boolean)baseCxt.get(IS_INITIALIZE_FILE_TREE);
  if (isInitLocalFileTree && !initTree()) {
    throw new IllegalArgumentException("Failed to initialize Local State manager. " + "Check rootAddress: " + rootAddress);
  }
}
