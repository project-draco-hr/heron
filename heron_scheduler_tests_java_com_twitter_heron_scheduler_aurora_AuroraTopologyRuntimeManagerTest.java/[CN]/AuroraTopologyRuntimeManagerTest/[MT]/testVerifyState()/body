{
  AuroraConfigLoader config=createRequiredConfig();
  AuroraTopologyRuntimeManager runtimeManager=AuroraTopologyRuntimeManager.class.newInstance();
  RuntimeManagerContext context=new RuntimeManagerContext(config,topologyName);
  runtimeManager.initialize(context);
  Assert.assertTrue(runtimeManager.verifyState(false,dummyExecutionState(),dummyTopology(TopologyAPI.TopologyState.RUNNING),dummyTMasterLocation()));
  Assert.assertTrue(runtimeManager.verifyState(true,dummyExecutionState(),dummyTopology(TopologyAPI.TopologyState.PAUSED),dummyTMasterLocation()));
  config.properties.setProperty(Constants.ROLE,"not-correct-role");
  runtimeManager.initialize(context);
  Assert.assertFalse(runtimeManager.verifyState(true,dummyExecutionState(),dummyTopology(TopologyAPI.TopologyState.PAUSED),dummyTMasterLocation()));
}
