{
  List<TopologyAPI.Config.KeyValue> topologyConfig=topology.getTopologyConfig().getKvsList();
  Map<String,Long> ramMap=TopologyUtility.getComponentRamMap(topology,getDefaultInstanceRam(packing));
  long maxRamRequired=0;
  for (  List<String> instances : packing.values()) {
    long ramRequired=0;
    for (    String instanceId : instances) {
      String componentName=getComponentName(instanceId);
      ramRequired+=ramMap.get(componentName);
    }
    if (ramRequired > maxRamRequired) {
      maxRamRequired=ramRequired;
    }
  }
  long stmgrRam=Long.parseLong(context.getProperty(STMGR_RAM_DEFAULT,Long.toString(1 * Constants.GB)));
  long defaultRequest=maxRamRequired + stmgrRam;
  long containerRamRequested=Long.parseLong(TopologyUtility.getConfigWithDefault(topologyConfig,Config.TOPOLOGY_CONTAINER_RAM_REQUESTED,"" + defaultRequest));
  if (defaultRequest > containerRamRequested) {
    LOG.severe("Container is set to value lower than computed defaults. This could be due" + "to incorrect RAM map provided for components.");
  }
  return containerRamRequested;
}
