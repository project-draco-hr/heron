{
  Map<Integer,List<String>> allocation=new HashMap<>();
  ArrayList<Container> containers=new ArrayList<>();
  ArrayList<RamRequirement> ramRequirements=getSortedRAMInstances(parallelismMap);
  int globalTaskIndex=1;
  for (int i=0; i < ramRequirements.size(); i++) {
    String component=ramRequirements.get(i).getComponentName();
    int numInstance=parallelismMap.get(component);
    for (int j=0; j < numInstance; j++) {
      int containerId=placeFFDInstance(containers,ramRequirements.get(i).getRamRequirement(),instanceCpuDefault,instanceDiskDefault);
      if (allocation.containsKey(containerId + numContainers)) {
        allocation.get(containerId + numContainers).add(getInstanceId(containerId + numContainers,component,globalTaskIndex,j));
      }
 else {
        ArrayList<String> instance=new ArrayList<>();
        instance.add(getInstanceId(containerId + numContainers,component,globalTaskIndex,j));
        allocation.put(containerId + numContainers,instance);
      }
      globalTaskIndex++;
    }
  }
  return allocation;
}
