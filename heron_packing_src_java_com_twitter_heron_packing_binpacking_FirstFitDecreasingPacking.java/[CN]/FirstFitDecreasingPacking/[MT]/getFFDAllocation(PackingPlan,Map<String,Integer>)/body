{
  int numContainers=currentPackingPlan.getContainers().size();
  int maxInstanceIndex=0;
  for (  PackingPlan.ContainerPlan containerPlan : currentPackingPlan.getContainers()) {
    for (    PackingPlan.InstancePlan instancePlan : containerPlan.getInstances()) {
      maxInstanceIndex=Math.max(maxInstanceIndex,PackingUtils.getGlobalInstanceIndex(instancePlan.getId()));
    }
  }
  return assignInstancesToContainers(componentChanges,numContainers + 1,maxInstanceIndex + 1);
}
