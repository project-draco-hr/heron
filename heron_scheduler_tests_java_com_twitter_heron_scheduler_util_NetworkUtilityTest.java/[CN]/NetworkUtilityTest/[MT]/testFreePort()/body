{
  int numAttempts=100;
  for (int i=0; i < numAttempts; ++i) {
    int port=NetworkUtility.getFreePort();
    try {
      new ServerSocket(port).close();
    }
 catch (    SocketException se) {
      Assert.assertTrue("Returned port is not open",false);
    }
catch (    IOException e) {
    }
  }
}
